<div align="center">

# ğŸ‘» GhostChat

### æ¶ˆæ¯å¦‚å¹½çµèˆ¬æ¶ˆé€

**çœŸæ­£çš„ç‚¹å¯¹ç‚¹èŠå¤©ï¼Œæ¶ˆæ¯ç›´æ¥åœ¨ç”¨æˆ·ä¹‹é—´ä¼ è¾“ã€‚**
ä¸å­˜å‚¨ã€ä¸è¯»å–æ‚¨çš„å¯¹è¯å†…å®¹ã€‚æ‰€æœ‰å†…å®¹ä»…å­˜åœ¨äºå†…å­˜ä¸­ï¼Œå…³é—­æ ‡ç­¾é¡µåå³æ¶ˆå¤±ã€‚

[![MIT License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Next.js](https://img.shields.io/badge/Next.js-15-black)](https://nextjs.org)
[![TypeScript](https://img.shields.io/badge/TypeScript-5-blue)](https://www.typescriptlang.org)
[![WebRTC](https://img.shields.io/badge/WebRTC-P2P-orange)](https://webrtc.org)
[![Cloudflare](https://img.shields.io/badge/Cloudflare-Workers-orange)](https://workers.cloudflare.com)

[åœ¨çº¿æ¼”ç¤º](https://ghost-chat-bxc.pages.dev) â€¢ [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md) â€¢ [æ›´æ–°æ—¥å¿—](CHANGELOG.md)

**ğŸ¥ [è§‚çœ‹æ¼”ç¤ºè§†é¢‘](https://www.youtube.com/watch?v=4-Iw9r4g8D0)**

</div>

---

## ğŸ“‘ ç›®å½•

- [æˆªå›¾](#-æˆªå›¾)
- [ä¸ºä»€ä¹ˆé€‰æ‹© GhostChatï¼Ÿ](#-ä¸ºä»€ä¹ˆé€‰æ‹©-ghostchat)
- [åŠŸèƒ½å¯¹æ¯”](#-åŠŸèƒ½å¯¹æ¯”)
- [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [æ¶æ„è®¾è®¡](#-æ¶æ„è®¾è®¡)
- [å®‰å…¨æ€§](#-å®‰å…¨æ€§)
- [å¼€å‘æŒ‡å—](#-å¼€å‘æŒ‡å—)
- [éƒ¨ç½²è¯´æ˜](#-éƒ¨ç½²è¯´æ˜)
- [è®¸å¯è¯](#-è®¸å¯è¯)
- [è‡´è°¢](#-è‡´è°¢)
- [æ”¯æŒ](#-æ”¯æŒ)

---

## ğŸ“¸ æˆªå›¾

<div align="center">

### é¦–é¡µ

![GhostChat é¦–é¡µ](public/assets/landingpage.png)

### èŠå¤©ç•Œé¢ï¼ˆå¾®ä¿¡é£æ ¼ï¼‰

![GhostChat èŠå¤©ç•Œé¢](public/assets/chatboard.png)

### è¿æ¥æŒ‡çº¹ï¼ˆä¸­é—´äººæ”»å‡»é˜²æŠ¤ï¼‰

![è¿æ¥æŒ‡çº¹](public/assets/fingerprint.png)

</div>

---

## ğŸ¯ ä¸ºä»€ä¹ˆé€‰æ‹© GhostChatï¼Ÿ

å¤§å¤šæ•°"å®‰å…¨"èŠå¤©åº”ç”¨ä»ç„¶åœ¨æœåŠ¡å™¨ä¸Šå­˜å‚¨æ‚¨çš„æ¶ˆæ¯ã€‚å³ä½¿æ˜¯ Signal å’Œ WhatsApp ä¹Ÿä¼šä¿ç•™å…ƒæ•°æ®ã€‚**GhostChat å®Œå…¨ä¸åŒï¼š**

- âœ… **çœŸæ­£çš„ P2P** - æ¶ˆæ¯é€šè¿‡ WebRTC ç›´æ¥åœ¨ç”¨æˆ·ä¹‹é—´ä¼ è¾“
- âœ… **é›¶æœåŠ¡å™¨å­˜å‚¨** - æ— æ•°æ®åº“ã€æ— æ—¥å¿—ã€æ— æ¶ˆæ¯å†å²
- âœ… **ä»…å†…å­˜å­˜å‚¨** - æ‰€æœ‰å†…å®¹ä»…å­˜å‚¨åœ¨ RAM ä¸­ï¼Œå…³é—­æ ‡ç­¾é¡µå³æ¸…ç©º
- âœ… **æ— éœ€è´¦æˆ·** - æ— éœ€æ‰‹æœºå·ã€é‚®ç®±æˆ–æŒä¹…èº«ä»½
- âœ… **è‡ªåŠ¨é”€æ¯** - æ¶ˆæ¯å¯åœ¨ 5 ç§’ã€30 ç§’ã€1 åˆ†é’Ÿæˆ– 5 åˆ†é’Ÿåè‡ªåŠ¨åˆ é™¤
- âœ… **å¼€æº** - å®Œå…¨å¯å®¡è®¡çš„ä»£ç ï¼ˆMIT è®¸å¯è¯ï¼‰
- âœ… **å¾®ä¿¡é£æ ¼** - ç§»åŠ¨ç«¯ä¼˜åŒ–çš„ç®€æ´ç•Œé¢ï¼Œç»¿è‰²æ°”æ³¡ï¼Œç›´è§‚æ˜“ç”¨

**å®Œç¾é€‚ç”¨äºï¼š** è®°è€…ã€å¹å“¨äººã€æ´»åŠ¨å®¶ã€å¾‹å¸ˆã€é«˜ç®¡ï¼Œä»¥åŠä»»ä½•é‡è§†çœŸæ­£éšç§çš„äººå£«ã€‚

---

## ğŸ“Š åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ç‰¹æ€§              | GhostChat | Signal      | WhatsApp    | Telegram    |
| --------------------- | --------- | ----------- | ----------- | ----------- |
| **çœŸæ­£çš„ P2P**        | âœ… æ˜¯     | âŒ å¦       | âŒ å¦       | âŒ å¦       |
| **æ— æœåŠ¡å™¨å­˜å‚¨**      | âœ… æ˜¯     | âŒ å…ƒæ•°æ®   | âŒ å…ƒæ•°æ®   | âŒ æ¶ˆæ¯     |
| **æ— éœ€è´¦æˆ·**          | âœ… æ˜¯     | âŒ æ‰‹æœºå·   | âŒ æ‰‹æœºå·   | âŒ æ‰‹æœºå·   |
| **æ— æ—¥å¿—**            | âœ… æ˜¯     | âŒ å¦       | âŒ å¦       | âŒ å¦       |
| **è‡ªåŠ¨é”€æ¯**          | âœ… æ˜¯     | âœ… æ˜¯       | âŒ å¦       | âœ… æ˜¯       |
| **å¼€æº**              | âœ… æ˜¯     | âœ… æ˜¯       | âŒ å¦       | âŒ éƒ¨åˆ†å¼€æº |
| **è´¹ç”¨**              | ğŸ’° å…è´¹   | ğŸ’° å…è´¹     | ğŸ’° å…è´¹     | ğŸ’° å…è´¹     |
| **ç§»åŠ¨ç«¯ä¼˜åŒ–**        | âœ… æ˜¯     | âœ… æ˜¯       | âœ… æ˜¯       | âœ… æ˜¯       |
| **å¾®ä¿¡é£æ ¼ç•Œé¢**      | âœ… æ˜¯     | âŒ å¦       | âŒ å¦       | âŒ å¦       |

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ”’ éšç§ä¸å®‰å…¨

- **ç›´æ¥ P2P è¿æ¥** - æ¶ˆæ¯å®Œå…¨ä¸ç»è¿‡æœåŠ¡å™¨
- **ç«¯åˆ°ç«¯åŠ å¯†** - ä½¿ç”¨ WebRTC åŸç”Ÿçš„ DTLS/SRTP
- **ä»…å†…å­˜å­˜å‚¨** - é›¶ç£ç›˜ç—•è¿¹ï¼Œæ— æ³•å–è¯
- **ä¸´æ—¶èº«ä»½** - æ¯æ¬¡ä¼šè¯éšæœºç”Ÿæˆ peer ID
- **å…³é—­è‡ªåŠ¨æ¸…é™¤** - å…³é—­æ ‡ç­¾é¡µæ—¶æ¸…é™¤æ‰€æœ‰æ•°æ®
- **è¿æ¥æŒ‡çº¹** - 4 ä¸ªè¡¨æƒ…ç¬¦å·çš„å“ˆå¸Œå€¼ï¼ŒéªŒè¯æ— ä¸­é—´äººæ”»å‡»
- **æ•æ„Ÿå†…å®¹æ¨¡ç³Š** - è‡ªåŠ¨æ£€æµ‹å¹¶æ¨¡ç³Šå¯†ç ã€èº«ä»½è¯å·ã€ä¿¡ç”¨å¡
- **å…ƒæ•°æ®å‰¥ç¦»** - ç§»é™¤å›¾ç‰‡çš„ EXIF æ•°æ®
- **åå–è¯** - åˆ é™¤æ¶ˆæ¯æ—¶è¦†ç›–å†…å­˜

### ğŸ’¬ æ¶ˆæ¯åŠŸèƒ½

- **è‡ªåŠ¨é”€æ¯æ¶ˆæ¯** - å®šæ—¶å™¨ï¼š5ç§’ã€30ç§’ã€1åˆ†é’Ÿã€5åˆ†é’Ÿæˆ–æ°¸ä¸
- **æ¶ˆæ¯åˆ é™¤** - P2P åŒæ­¥åŒå‘åˆ é™¤
- **å·²è¯»å›æ‰§** - å•/åŒå‹¾é€‰å‘é€çŠ¶æ€
- **è¾“å…¥æŒ‡ç¤ºå™¨** - æ˜¾ç¤ºå¯¹æ–¹æ­£åœ¨è¾“å…¥
- **æ–‡ä»¶ä¼ è¾“** - ç›´æ¥å‘é€æœ€å¤§ 10MB æ–‡ä»¶
- **åˆ†å—ä¼ è¾“** - é€šè¿‡ 64KB åˆ†å—å¯é ä¼ è¾“
- **ä¸Šä¼ è¿›åº¦** - å®æ—¶è¿›åº¦æ¡
- **å›¾ç‰‡é¢„è§ˆ** - å›¾ç‰‡å†…è”æ˜¾ç¤º
- **å‰ªè´´æ¿ä¿æŠ¤** - 10 ç§’åè‡ªåŠ¨æ¸…ç©ºå‰ªè´´æ¿

### ğŸ“± ç§»åŠ¨ç«¯ä¼˜åŒ–

- **å¾®ä¿¡é£æ ¼ç•Œé¢** - ç»¿è‰²æ°”æ³¡ï¼ˆè‡ªå·±ï¼‰+ ç™½è‰²æ°”æ³¡ï¼ˆå¯¹æ–¹ï¼‰
- **ç®€æ´è¾“å…¥æ ** - å·¦ä¾§ä¸Šä¼ æŒ‰é’® + ä¸­é—´è¾“å…¥æ¡† + å³ä¾§å‘é€æŒ‰é’®
- **å¤§è§¦æ‘¸ç›®æ ‡** - æ‰€æœ‰æŒ‰é’® â‰¥44pxï¼Œç¬¦åˆ iOS/Android è§„èŒƒ
- **å“åº”å¼å¸ƒå±€** - å®Œç¾é€‚é…æ‰‹æœºã€å¹³æ¿ã€æ¡Œé¢
- **å”¤é†’é”** - é˜²æ­¢ç§»åŠ¨è®¾å¤‡åœ¨èŠå¤©æ—¶ä¼‘çœ 
- **HTTPS å¼ºåˆ¶** - ç§»åŠ¨ç«¯è‡ªåŠ¨ä½¿ç”¨å®‰å…¨è¿æ¥

### ğŸš¨ ç´§æ€¥åŠŸèƒ½

- **ç´§æ€¥æŒ‰é’®** - ç«‹å³æ¸…ç©ºæ‰€æœ‰æ¶ˆæ¯ï¼ˆCtrl+Shift+Xï¼‰
- **æ¶ˆæ¯é™åˆ¶** - è‡ªåŠ¨æ¸…ç†ï¼ˆ10ã€25ã€50 æˆ– 100 æ¡æ¶ˆæ¯ï¼‰
- **ä¼šè¯è¶…æ—¶** - ä¸æ´»åŠ¨åè‡ªåŠ¨æ–­å¼€ï¼ˆ5åˆ†é’Ÿ-1å°æ—¶ï¼‰
- **å±å¹•æ¨¡ç³Š** - åˆ‡æ¢æ ‡ç­¾é¡µæˆ–ç©ºé—²æ—¶è‡ªåŠ¨æ¨¡ç³Š

### ğŸŒ åŸºç¡€è®¾æ–½

- **é›¶è¿è¥æˆæœ¬** - Cloudflare Workers ä¿¡ä»¤ï¼ˆæ¯å¤© 20 ä¸‡æ¬¡è¯·æ±‚ï¼‰
- **è‡ªåŠ¨æ•…éšœè½¬ç§»** - Worker 1 â†’ Worker 2 â†’ PeerJS å¤‡ç”¨
- **PWA æ”¯æŒ** - å¯å®‰è£…ä¸ºæ¡Œé¢/ç§»åŠ¨åº”ç”¨
- **æ— è¿½è¸ª** - é›¶åˆ†æã€é›¶é¥æµ‹ã€é›¶ç”¨æˆ·æ•°æ®æ”¶é›†

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ™®é€šç”¨æˆ·

**1. è®¿é—®åº”ç”¨ï¼š**

```
https://ghost-chat-bxc.pages.dev
```

**2. åˆ›å»ºèŠå¤©å®¤ï¼š**

- ç‚¹å‡»"å¼€å§‹"æŒ‰é’®
- å¤åˆ¶é‚€è¯·é“¾æ¥
- åˆ†äº«ç»™å¯¹æ–¹

**3. å¯¹æ–¹åŠ å…¥ï¼š**

- å¯¹æ–¹ç‚¹å‡»é‚€è¯·é“¾æ¥è‡ªåŠ¨è¿æ¥
- æˆ–åœ¨é¦–é¡µç²˜è´´é‚€è¯·ç å¹¶ç‚¹å‡»"å¼€å§‹"

**4. ç§å¯†èŠå¤©ï¼š**

- æ¶ˆæ¯ç›´æ¥åœ¨ä½ ä»¬ä¹‹é—´ä¼ è¾“ï¼ˆP2Pï¼‰
- èŠå¤©å®Œæˆåå…³é—­æ ‡ç­¾é¡µ - ä¸€åˆ‡æ¶ˆå¤±

### å¼€å‘è€…

**å…‹éš†å¹¶æœ¬åœ°è¿è¡Œï¼š**

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/teycir/ghostchat.git
cd ghostchat

# å®‰è£…ä¾èµ–
npm install

# è¿è¡Œå¼€å‘æœåŠ¡å™¨
npm run dev

# æ‰“å¼€ http://localhost:3000
```

**æœ¬åœ°æµ‹è¯• P2Pï¼š**

```bash
# ç»ˆç«¯ 1
npm run dev

# æµè§ˆå™¨æ ‡ç­¾é¡µ 1: localhost:3000/chat
# ç‚¹å‡»"åˆ›å»ºèŠå¤©å®¤" â†’ å¤åˆ¶é‚€è¯·é“¾æ¥

# æµè§ˆå™¨æ ‡ç­¾é¡µ 2: ç²˜è´´é‚€è¯·é“¾æ¥
# æ¶ˆæ¯é€šè¿‡ WebRTC P2P åŒæ­¥
```

**æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼š**

```bash
npm run build
npm start

# æˆ–éƒ¨ç½²é™æ€å¯¼å‡º
npm run build
# ä¸Šä¼  /out ç›®å½•åˆ°ä»»ä½•é™æ€ä¸»æœº
```

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### P2P å·¥ä½œåŸç†

```
ç”¨æˆ· A                    ä¿¡ä»¤æœåŠ¡å™¨              ç”¨æˆ· B
  |                              |                         |
  |------ åˆ›å»ºèŠå¤©å®¤ ----------->|                         |
  |<----- Peer ID: abc123 -------|                         |
  |                              |                         |
  |                              |<----- åŠ å…¥: abc123 -----|
  |<---- WebRTC Offer -----------|------ è½¬å‘ Offer ------->|
  |<---- ICE Candidates ---------|------ è½¬å‘ ICE -------->|
  |                              |                         |
  |<========== ç›´æ¥ P2P è¿æ¥ =============================>|
  |                              |                         |
  |-- "ä½ å¥½ï¼" ------------------------------------------>|
  |<------------------------------------------- "å—¨ï¼" ---|
  |                              |                         |
  (ä¿¡ä»¤æœåŠ¡å™¨ä¸å†å‚ä¸)
```

**å…³é”®ç‚¹ï¼š**

1. ä¿¡ä»¤æœåŠ¡å™¨ä»…å¸®åŠ©å»ºç«‹è¿æ¥ï¼ˆWebRTC SDP äº¤æ¢ï¼‰
2. è¿æ¥å»ºç«‹åï¼Œæ¶ˆæ¯ç›´æ¥ç‚¹å¯¹ç‚¹ä¼ è¾“
3. æœåŠ¡å™¨æ°¸è¿œçœ‹ä¸åˆ°æ¶ˆæ¯å†…å®¹
4. è¿æ¥ä½¿ç”¨ WebRTC DataChannelsï¼ˆDTLS åŠ å¯†ï¼‰

### æŠ€æœ¯æ ˆ

- **å‰ç«¯ï¼š** Next.js 15, React, TypeScript
- **P2P åè®®ï¼š** simple-peerï¼ˆä¸»è¦ï¼‰ã€PeerJSï¼ˆå¤‡ç”¨ï¼‰
- **ä¿¡ä»¤ï¼š** Cloudflare Workersï¼ˆè‡ªæ‰˜ç®¡ï¼‰
- **æ ·å¼ï¼š** CSS-in-JSï¼ˆæ— å¤–éƒ¨ CSS æ¡†æ¶ï¼‰
- **å­˜å‚¨ï¼š** ä»…å†…å­˜ï¼ˆæ—  localStorage/IndexedDBï¼‰
- **éƒ¨ç½²ï¼š** é™æ€å¯¼å‡ºï¼ˆCloudflare Pages, Vercel, Netlifyï¼‰

### é¡¹ç›®ç»“æ„

```
ghostchat/
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ page.tsx           # é¦–é¡µï¼ˆæç®€è®¾è®¡ï¼‰
â”‚   â”œâ”€â”€ chat/page.tsx      # èŠå¤©é¡µé¢
â”‚   â””â”€â”€ globals.css        # å…¨å±€æ ·å¼
â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â”œâ”€â”€ ChatCore.tsx       # ä¸»èŠå¤©é€»è¾‘
â”‚   â”œâ”€â”€ MessageList.tsx    # æ¶ˆæ¯æ¸²æŸ“ï¼ˆå¾®ä¿¡é£æ ¼ï¼‰
â”‚   â”œâ”€â”€ MessageInput.tsx   # è¾“å…¥ç»„ä»¶ï¼ˆç®€æ´è®¾è®¡ï¼‰
â”‚   â””â”€â”€ ...
â”œâ”€â”€ lib/                   # æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ peer-manager.ts    # P2P è¿æ¥ç®¡ç†å™¨
â”‚   â”œâ”€â”€ storage.ts         # ä»…å†…å­˜å­˜å‚¨
â”‚   â”œâ”€â”€ file-transfer.ts   # åˆ†å—æ–‡ä»¶ä¼ è¾“
â”‚   â””â”€â”€ ...
â”œâ”€â”€ cloudflare-worker/     # Cloudflare Workers ä¿¡ä»¤
â”‚   â”œâ”€â”€ index.js          # Durable Object å®ç°
â”‚   â””â”€â”€ wrangler.toml     # Workers é…ç½®
â”œâ”€â”€ public/                # é™æ€èµ„æº
â”‚   â”œâ”€â”€ manifest.json      # PWA manifest
â”‚   â””â”€â”€ assets/           # å›¾ç‰‡å’Œå›¾æ ‡
â””â”€â”€ tests/                 # æµ‹è¯•å¥—ä»¶
```

---

## ğŸ” å®‰å…¨æ€§

### å¨èƒæ¨¡å‹

**GhostChat é˜²æŠ¤å¯¹è±¡ï¼š**

- âœ… æœåŠ¡å™¨ç«¯æ•°æ®æ³„éœ²ï¼ˆæ— æœåŠ¡å™¨å­˜å‚¨ï¼‰
- âœ… æ¶ˆæ¯æ‹¦æˆªï¼ˆç«¯åˆ°ç«¯åŠ å¯†ï¼‰
- âœ… å–è¯åˆ†æï¼ˆä»…å†…å­˜ï¼Œæ— ç£ç›˜ç—•è¿¹ï¼‰
- âœ… æŒç»­ç›‘æ§ï¼ˆä¸´æ—¶ä¼šè¯ï¼‰
- âœ… å…ƒæ•°æ®æ”¶é›†ï¼ˆæ— è´¦æˆ·ï¼Œæœ€å°‘æ—¥å¿—ï¼‰

**GhostChat ä¸é˜²æŠ¤å¯¹è±¡ï¼š**

- âŒ è¢«å…¥ä¾µçš„è®¾å¤‡ï¼ˆé”®ç›˜è®°å½•å™¨ã€å±å¹•æˆªå–ï¼‰
- âŒ ä¸­é—´äººæ”»å‡»ï¼ˆè¯·éªŒè¯æŒ‡çº¹ï¼ï¼‰
- âŒ IP åœ°å€æš´éœ²ï¼ˆåŒæ–¹äº’è§ IP - ä½¿ç”¨ VPNï¼‰
- âŒ æµè§ˆå™¨æ¼æ´ï¼ˆä¿æŒæµè§ˆå™¨æ›´æ–°ï¼‰

### ä¸­é—´äººï¼ˆMITMï¼‰æ”»å‡»å‘é‡

GhostChat åœ¨åˆå§‹è¿æ¥é˜¶æ®µå®¹æ˜“å—åˆ° MITM æ”»å‡»ã€‚å…·ä½“æ–¹å¼ï¼š

**1. ä¿¡ä»¤æœåŠ¡å™¨å…¥ä¾µ**

- Cloudflare Worker ååŠ© WebRTC æ¡æ‰‹ï¼ˆSDP äº¤æ¢ï¼‰
- è¢«å…¥ä¾µçš„ä¿¡ä»¤æœåŠ¡å™¨å¯èƒ½æ‹¦æˆªå¹¶ä¿®æ”¹ï¼š
  - ä¼šè¯æè¿°åè®®ï¼ˆSDPï¼‰offer/answer
  - ICE å€™é€‰ï¼ˆè¿æ¥ç«¯ç‚¹ï¼‰
  - åå•†æœŸé—´çš„åŠ å¯†å¯†é’¥
- ç»“æœï¼šæ”»å‡»è€…å»ºç«‹ä¸¤ä¸ªç‹¬ç«‹è¿æ¥ï¼ˆAâ†”æ”»å‡»è€…â†”Bï¼‰

**2. é‚€è¯·é“¾æ¥æ‹¦æˆª**

- é‚€è¯·é“¾æ¥åŒ…å« peer IDï¼š`https://ghost-chat.pages.dev/chat?peer=abc123`
- å¦‚æœé€šè¿‡ä¸å®‰å…¨æ¸ é“å…±äº«ï¼ˆçŸ­ä¿¡ã€éåŠ å¯†é‚®ä»¶ã€å…¬å¼€èŠå¤©ï¼‰ï¼š
  - æ”»å‡»è€…æ‹¦æˆªé“¾æ¥å¹¶é¦–å…ˆè¿æ¥
  - åŸå§‹æ¥æ”¶è€…è¿æ¥åˆ°æ”»å‡»è€…è€Œéé¢„æœŸå¯¹æ–¹
- ç»“æœï¼šåŒæ–¹éƒ½ä¸çŸ¥æƒ…åœ°ä¸æ”»å‡»è€…èŠå¤©

**3. ç½‘ç»œçº§æ”»å‡»**

- åŒä¸€ WiFi/ç½‘ç»œä¸Šçš„æ”»å‡»è€…å¯ä»¥ï¼š
  - æ‰§è¡Œ DNS æ¬ºéª—é‡å®šå‘æµé‡
  - æ‹¦æˆª WebRTC åå•†æ•°æ®åŒ…
  - æ³¨å…¥æ¶æ„ ICE å€™é€‰
- ç»“æœï¼šæµé‡é€šè¿‡æ”»å‡»è€…æœºå™¨è·¯ç”±

### MITM é˜²æŠ¤ï¼šè¿æ¥æŒ‡çº¹

GhostChat åŒ…å«**è¿æ¥æŒ‡çº¹**ç³»ç»Ÿæ¥æ£€æµ‹ MITM æ”»å‡»ï¼š

```
ğŸ”´ğŸŸ¢ğŸ”µğŸŸ¡  â† 4 ä¸ªè¡¨æƒ…ç¬¦å·å“ˆå¸Œ
123456     â† 6 ä½éªŒè¯ç 
```

**ç®€å•è§£é‡Šï¼š**

å°†å…¶æƒ³è±¡æˆä¸€ä¸ªåªæœ‰ç›´æ¥å¯¹è¯æ—¶æ‰æœ‰æ•ˆçš„ç§˜å¯†æ¡æ‰‹ï¼š

- è¿æ¥æ—¶ï¼ŒåŒæ–¹å°†å”¯ä¸€çš„ ID ç»„åˆ
- åˆ›å»ºæŒ‡çº¹ - 4 ä¸ªè¡¨æƒ…ç¬¦å·ï¼Œåƒ"è¿æ¥ DNA"
- å¦‚æœç›´æ¥è¿æ¥ï¼ŒåŒæ–¹çœ‹åˆ°**ç›¸åŒ**çš„è¡¨æƒ…ç¬¦å·
- å¦‚æœæœ‰äººåœ¨ä¸­é—´ï¼Œä»–ä»¬æœ‰ä¸åŒçš„ IDï¼Œè¡¨æƒ…ç¬¦å·ä¸åŒ¹é…

**ç°å®ç±»æ¯”ï¼š** ä½ å’Œæœ‹å‹åˆ†åˆ«åœ¨çº¸ä¸Šå†™ä¸‹åå­—ï¼Œæ··åˆåœ¨ä¸€èµ·ï¼Œåˆ›å»ºç‹¬ç‰¹å›¾æ¡ˆã€‚å¦‚æœçœ‹åˆ°ç›¸åŒå›¾æ¡ˆï¼Œè¯´æ˜åœ¨ç›´æ¥å¯¹è¯ã€‚å¦‚æœæ”»å‡»è€…æ‹¦æˆªï¼Œä»–ä»¬ä½¿ç”¨è‡ªå·±çš„åå­—ï¼Œåˆ›å»ºä¸åŒå›¾æ¡ˆ - ä½ ä¼šæ³¨æ„åˆ°ï¼

**æŠ€æœ¯åŸç†ï¼š**

1. åŒæ–¹ä» peer ID ç”Ÿæˆç¡®å®šæ€§å“ˆå¸Œ
2. å“ˆå¸Œæ˜¾ç¤ºä¸º 4 ä¸ªè¡¨æƒ…ç¬¦å· + 6 ä½ä»£ç 
3. **å¦‚æœç›´æ¥è¿æ¥ï¼š** åŒæ–¹çœ‹åˆ°**ç›¸åŒ**æŒ‡çº¹
4. **å¦‚æœ MITM å­˜åœ¨ï¼š** åŒæ–¹çœ‹åˆ°**ä¸åŒ**æŒ‡çº¹ï¼ˆå› ä¸ºæ”»å‡»è€…æœ‰ä¸åŒ peer IDï¼‰

**ç¤ºä¾‹ï¼š**

```
ç›´æ¥è¿æ¥ï¼š
  Alice çœ‹åˆ°ï¼š ğŸ”´ğŸŸ¢ğŸ”µğŸŸ¡ (Alice+Bob çš„å“ˆå¸Œ)
  Bob çœ‹åˆ°ï¼š   ğŸ”´ğŸŸ¢ğŸ”µğŸŸ¡ (Alice+Bob çš„å“ˆå¸Œ) âœ… åŒ¹é…

MITM æ”»å‡»ï¼š
  Alice çœ‹åˆ°ï¼š ğŸ”´ğŸŸ¢ğŸ”µğŸŸ¡ (Alice+æ”»å‡»è€… çš„å“ˆå¸Œ)
  Bob çœ‹åˆ°ï¼š   ğŸŸ£ğŸŸ âš«ğŸ”¶ (Bob+æ”»å‡»è€… çš„å“ˆå¸Œ) âŒ ä¸åŒ¹é…
```

### å®‰å…¨æœ€ä½³å®è·µ

**å…³é”®ï¼šå§‹ç»ˆé€šè¿‡å¸¦å¤–éªŒè¯æŒ‡çº¹**

1. **éªŒè¯è¿æ¥æŒ‡çº¹** - é€šè¿‡ç‹¬ç«‹æ¸ é“æ¯”è¾ƒ 4 ä¸ªè¡¨æƒ…ç¬¦å·å“ˆå¸Œï¼š
   - ç”µè¯ï¼ˆæœ—è¯»è¡¨æƒ…ç¬¦å·ï¼‰
   - è§†é¢‘é€šè¯ï¼ˆå±•ç¤ºå±å¹•ï¼‰
   - å½“é¢éªŒè¯
   - Signal/WhatsApp æ¶ˆæ¯ï¼ˆä¸é‚€è¯·é“¾æ¥ä¸åŒæ¸ é“ï¼‰
   - **ä¸è¦**é€šè¿‡å…±äº«é‚€è¯·é“¾æ¥çš„åŒä¸€æ¸ é“éªŒè¯

2. **å®‰å…¨åˆ†äº«é‚€è¯·é“¾æ¥**
   - ä½¿ç”¨ç«¯åˆ°ç«¯åŠ å¯†æ¶ˆæ¯ï¼ˆSignalã€WhatsAppï¼‰
   - å½“é¢åˆ†äº«ï¼ˆäºŒç»´ç æ‰«æï¼‰
   - é¿å…çŸ­ä¿¡ã€é‚®ä»¶ã€å…¬å¼€è®ºå›

3. **ä½¿ç”¨ VPN** - å‘å¯¹æ–¹å’Œç½‘ç»œè§‚å¯Ÿè€…éšè— IP åœ°å€

4. **ä¿æŠ¤è®¾å¤‡** - ä¿æŒæ“ä½œç³»ç»Ÿå’Œæµè§ˆå™¨æ›´æ–°

5. **éšç§æµè§ˆ** - ä½¿ç”¨éšèº«/éšç§æ¨¡å¼

6. **å¯ä¿¡ç½‘ç»œ** - é¿å…æ—  VPN çš„å…¬å…± WiFi

7. **æ–°ä¼šè¯** - æ¯æ¬¡å¯¹è¯åˆ›å»ºæ–°èŠå¤©å®¤ï¼ˆä¸è¦é‡ç”¨ peer IDï¼‰

### å®‰å…¨å®¡è®¡

- [ ] ç‹¬ç«‹å®‰å…¨å®¡è®¡ï¼ˆè®¡åˆ’ä¸­ï¼‰
- [ ] æ¸—é€æµ‹è¯•ï¼ˆè®¡åˆ’ä¸­ï¼‰
- [ ] æ¼æ´èµé‡‘è®¡åˆ’ï¼ˆè®¡åˆ’ä¸­ï¼‰

**å‘ç°æ¼æ´ï¼Ÿ** è¯·è´Ÿè´£ä»»åœ°æŠ¥å‘Šè‡³ [teycir@pxdmail.net](mailto:teycir@pxdmail.net)

---

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### å‰ç½®è¦æ±‚

- Node.js 18+
- npm æˆ– yarn
- æ”¯æŒ WebRTC çš„ç°ä»£æµè§ˆå™¨

### æµè§ˆå™¨å…¼å®¹æ€§

**æ”¯æŒçš„æµè§ˆå™¨ï¼š**

- Chrome/Chromiumï¼ˆæ¨èï¼‰
- Firefox
- Edge
- Safari
- Braveï¼ˆéœ€ä¸ºè¯¥ç«™ç‚¹å…³é—­ Shieldsï¼‰

**ä¸å…¼å®¹ï¼š**

- LibreWolf - é»˜è®¤ç¦ç”¨ WebRTC ä»¥ä¿æŠ¤éšç§
- Tor Browser - é˜»æ­¢ WebRTC ä»¥ä¿æŠ¤åŒ¿å
- ä¸¥æ ¼é˜»æ­¢ WebRTC çš„æµè§ˆå™¨

**æ³¨æ„ï¼š** æ³¨é‡éšç§çš„æµè§ˆå™¨é€šå¸¸ç¦ç”¨ WebRTC ä»¥é˜²æ­¢ IP æ³„éœ²ã€‚è¦åœ¨è¿™äº›æµè§ˆå™¨ä¸Šä½¿ç”¨ GhostChatï¼Œå¿…é¡»åœ¨è®¾ç½®ä¸­å¯ç”¨ WebRTCï¼ˆä¸æ¨èï¼Œå› ä¸ºè¿™ä¼šç ´åå…¶éšç§ç›®çš„ï¼‰ã€‚è¯·æ”¹ç”¨å¸¦ VPN çš„ä¸»æµæµè§ˆå™¨ã€‚

### å®‰è£…ä¸è®¾ç½®

```bash
# å®‰è£…ä¾èµ–
npm install

# è¿è¡Œæµ‹è¯•
npm test

# è¿è¡Œ E2E æµ‹è¯•
npm run test:e2e

# ä»£ç æ£€æŸ¥
npm run lint

# ç±»å‹æ£€æŸ¥
npm run type-check

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# æœ¬åœ°é¢„è§ˆæ„å»ºç‰ˆæœ¬
npm start
```

### ç¯å¢ƒå˜é‡

```bash
# å¯é€‰ï¼šè‡ªå®šä¹‰ PeerJS æœåŠ¡å™¨
NEXT_PUBLIC_PEERJS_HOST=your-server.com
NEXT_PUBLIC_PEERJS_PORT=443
NEXT_PUBLIC_PEERJS_PATH=/myapp
```

### è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿è´¡çŒ®ï¼è¯·å‚é˜… [CONTRIBUTING.md](CONTRIBUTING.md) äº†è§£æŒ‡å—ã€‚

**è´¡çŒ®æ–¹å¼ï¼š**

- ğŸ› æŠ¥å‘Š Bug
- ğŸ’¡ å»ºè®®æ–°åŠŸèƒ½
- ğŸ”§ æäº¤ Pull Request
- ğŸ“– æ”¹è¿›æ–‡æ¡£
- ğŸŒ æ·»åŠ ç¿»è¯‘
- ğŸ¨ è®¾è®¡æ”¹è¿›

---

## ğŸš¢ éƒ¨ç½²è¯´æ˜

### Cloudflare Pagesï¼ˆæ¨èï¼‰

**1. æ„å»ºå‰ç«¯ï¼š**

```bash
npm run build
```

**2. éƒ¨ç½²åˆ° Cloudflare Pagesï¼š**

```bash
# å®‰è£… Wrangler CLI
npm install -g wrangler

# ç™»å½• Cloudflare
wrangler login

# éƒ¨ç½²å‰ç«¯
npx wrangler pages deploy out --project-name=ghost-chat
```

**3. éƒ¨ç½² Cloudflare Workers ä¿¡ä»¤æœåŠ¡å™¨ï¼š**

```bash
cd cloudflare-worker

# éƒ¨ç½² Worker
npx wrangler deploy
```

**4. é…ç½®ç”Ÿäº§ç¯å¢ƒåˆ«åï¼š**

- ç™»å½• Cloudflare Dashboard
- è¿›å…¥ Pages é¡¹ç›®è®¾ç½®
- å°† Production branch è®¾ç½®ä¸º `master`

### Vercel

```bash
npm run build
vercel --prod
```

### è‡ªæ‰˜ç®¡

```bash
npm run build
# ä¸Šä¼  /out ç›®å½•åˆ°ä»»ä½•é™æ€ä¸»æœº
# Nginx, Apache, S3, ç­‰
```

### Docker

```bash
# æ„å»ºé•œåƒ
docker build -t ghostchat .

# è¿è¡Œå®¹å™¨
docker run -p 3000:3000 ghostchat
```

### ä½¿ç”¨è‡ªå®šä¹‰åŸŸå

**Cloudflare Pages é…ç½®ï¼š**

1. åœ¨ Cloudflare DNS è®¾ç½®ä¸­æ·»åŠ è‡ªå®šä¹‰åŸŸå
2. åœ¨ Pages é¡¹ç›®è®¾ç½®ä¸­ç»‘å®šè‡ªå®šä¹‰åŸŸå
3. ç­‰å¾… SSL è¯ä¹¦è‡ªåŠ¨ç”Ÿæˆ

**ä¿®æ”¹ Worker åŸŸåï¼š**

ç¼–è¾‘ `lib/peer-manager.ts`ï¼Œæ›´æ–°ä¿¡ä»¤æœåŠ¡å™¨åœ°å€ï¼š

```typescript
const SIGNALING_SERVERS = [
  'your-custom-worker.your-domain.com',
  // æ·»åŠ å¤‡ç”¨æœåŠ¡å™¨
];
```

---

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

**ç®€è€Œè¨€ä¹‹ï¼š** å¯è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘ã€‚ä¸æä¾›ä»»ä½•ä¿è¯ã€‚

---

## ğŸ’¼ ä¸“ä¸šæœåŠ¡

éœ€è¦è‡ªå®šä¹‰ P2P è§£å†³æ–¹æ¡ˆæˆ–æ³¨é‡éšç§çš„åº”ç”¨ç¨‹åºï¼Ÿæˆ‘æ„å»ºç”Ÿäº§å°±ç»ªçš„å®‰å…¨é€šä¿¡å·¥å…·ã€‚

### ç²¾é€‰é¡¹ç›®

- **[TimeSeal](https://timeseal.online)** ([GitHub](https://github.com/Teycir/Timeseal)) - åŠ å¯†æ—¶é—´é”å®šä¿é™©åº“å’Œæ­»æ‰‹å¼€å…³ï¼Œé›¶ä¿¡ä»»åŠ å¯†
- **[GhostChat](https://ghost-chat-bxc.pages.dev)** - çœŸæ­£çš„ P2P åŠ å¯†èŠå¤©ï¼Œä½¿ç”¨ WebRTCï¼Œæ— æœåŠ¡å™¨å­˜å‚¨ï¼Œè‡ªåŠ¨é”€æ¯å®šæ—¶å™¨
- **[BurpAPISecuritySuite](https://github.com/Teycir/BurpAPISecuritySuite)** - ä¸“ä¸šçš„ API å®‰å…¨æµ‹è¯•å·¥å…·åŒ…ï¼Œç”¨äº Burp Suite
- **[BurpCopyIssues](https://github.com/Teycir/BurpCopyIssues)** - Burp Suite æ‰©å±•ï¼Œç”¨äºæµè§ˆã€å¤åˆ¶å’Œå¯¼å‡ºæ‰«æç»“æœ
- **[BurpWpsScan](https://github.com/Teycir/BurpWpsScan)** - WordPress å®‰å…¨æ‰«æå™¨ï¼Œç”¨äº Burp Suiteï¼Œé›†æˆ WPScan API

### æä¾›çš„æœåŠ¡

- ğŸ”’ **éšç§ä¼˜å…ˆå¼€å‘** - P2P åº”ç”¨ã€åŠ å¯†é€šä¿¡ã€é›¶çŸ¥è¯†ç³»ç»Ÿ
- ğŸš€ **Web åº”ç”¨å¼€å‘** - ä½¿ç”¨ Next.jsã€Reactã€TypeScript çš„å…¨æ ˆå¼€å‘
- ğŸ”§ **WebRTC è§£å†³æ–¹æ¡ˆ** - å®æ—¶é€šä¿¡ã€è§†é¢‘/éŸ³é¢‘æµã€æ•°æ®é€šé“
- ğŸ›¡ï¸ **å®‰å…¨å·¥å…·å¼€å‘** - Burp æ‰©å±•ã€æ¸—é€æµ‹è¯•å·¥å…·ã€è‡ªåŠ¨åŒ–æ¡†æ¶
- ğŸ¤– **AI é›†æˆ** - LLM é©±åŠ¨çš„åº”ç”¨ã€æ™ºèƒ½è‡ªåŠ¨åŒ–ã€è‡ªå®šä¹‰ AI è§£å†³æ–¹æ¡ˆ

**è”ç³»æ–¹å¼**: [teycirbensoltane.tn](https://teycirbensoltane.tn) | å¯æ‰¿æ¥è‡ªç”±èŒä¸šé¡¹ç›®å’Œå’¨è¯¢

---

## ğŸ™ è‡´è°¢

- [simple-peer](https://github.com/feross/simple-peer) - WebRTC åº“
- [PeerJS](https://peerjs.com) - å¤‡ç”¨ P2P åè®®
- [Next.js](https://nextjs.org) - React æ¡†æ¶
- [Cloudflare Workers](https://workers.cloudflare.com) - ä¿¡ä»¤åŸºç¡€è®¾æ–½
- æ‰€æœ‰ä¸ºéšç§å’Œå¼€æºåšå‡ºè´¡çŒ®çš„å¼€å‘è€…

---

## ğŸ’– æ”¯æŒ

å¦‚æœæ‚¨è§‰å¾— GhostChat æœ‰ç”¨ï¼Œè¯·ï¼š

- â­ ç»™è¿™ä¸ªä»“åº“åŠ æ˜Ÿ
- ğŸ¦ åœ¨ç¤¾äº¤åª’ä½“ä¸Šåˆ†äº«
- ğŸ’¡ æå‡ºæ”¹è¿›å»ºè®®
- ğŸ› æŠ¥å‘Šé—®é¢˜
- ğŸ“– è´¡çŒ®ä»£ç 

---

## ğŸ“ è”ç³»æ–¹å¼

- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/Teycir/GhostChat/issues)
- **åŠŸèƒ½å»ºè®®**: [GitHub Discussions](https://github.com/Teycir/GhostChat/discussions)
- **å®‰å…¨é—®é¢˜**: [teycir@pxdmail.net](mailto:teycir@pxdmail.net)
- **ä½œè€…ç½‘ç«™**: [teycirbensoltane.tn](https://teycirbensoltane.tn)

---

<div align="center">

**ç”¨ â¤ï¸ ä¸ºéšç§è€Œæ„å»º**

[å®˜æ–¹ç½‘ç«™](https://ghost-chat-bxc.pages.dev) â€¢ [GitHub](https://github.com/Teycir/GhostChat) â€¢ [åœ¨çº¿æ¼”ç¤º](https://ghost-chat-bxc.pages.dev)

**âš ï¸ å…è´£å£°æ˜**: GhostChat ä»…ä¾›åˆæ³•ç”¨é€”ã€‚ç”¨æˆ·éœ€å¯¹è‡ªå·±çš„ä½¿ç”¨è¡Œä¸ºè´Ÿè´£ã€‚ä½œè€…ä¸å¯¹æ»¥ç”¨æ‰¿æ‹…è´£ä»»ã€‚

</div>
